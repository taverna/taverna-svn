<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="t2preview">
  <title>Using the Taverna 2 preview</title>

  <para>The Taverna 2 preview runs workflows using the new Taverna enactment
  engine. The preview contains 3 main panels: a list of workflow runs, the
  workflow diagram and the results (visible after running or testing a
  workflow). The first workflow in the list is always the workflow that is
  currently selected in the workbench. There are buttons to Test and Run a
  workflow as well as set preferences and change the diagram zoom.</para>

  <para><inlinemediaobject>
      <imageobject>
        <imagedata fileref="./images/t2_plugin_workflow.png" />
      </imageobject>
    </inlinemediaobject></para>

  <section id="t2previewtest">
    <title>Testing a workflow</title>

    <para>Clicking on the Test button performs a workflow health check. This
    will check that the workflow can be translated from the old style scufl
    model to the T2 style and that any web-service endpoints are
    responding.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_healthcheck_pass.png" />
        </imageobject>
      </inlinemediaobject></para>
  </section>

  <section id="t2previewrun">
    <title>Running a workflow</title>

    <para>Clicking on the Run button executes the workflow. The workflow run
    is added to the list of workflows and the result panel is opened. During
    the run the workflow status is monitored and shown on the diagram. In the
    example below the seqret, emma and plot processors are in progress; the
    number of complete iterations is shown in the top right of the processor
    box.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_monitor.png" />
        </imageobject>
      </inlinemediaobject></para>

    <para>If a processor fails to run the border of the processor box changes
    colour to red and the number of failed iterations is shown in the bottom
    right of the box.  For example. in the run shown below, append_string and echo have both run 10 iterations.
    One iteration of append_string generated an error.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_monitor_fail.png" />
        </imageobject>
      </inlinemediaobject></para>
  </section>

  <section id="t2previewinputs">
    <title>Workflow inputs</title>

    <para>If a workflow requires inputs, clicking the Run button pops up a
    panel which allows you to enter the inputs for the workflow. Clicking on
    run will execute the workflow with your inputs and then present them in
    the bottom right panel. The data manager will have registered any inputs
    and any results and the serialised versions can be browsed on disk.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_create_entity.png" />
        </imageobject>
      </inlinemediaobject></para>

    <para>The sample input data below shows a list containing a Data Document
    (with a File Reference Scheme &amp; a HTTP Reference Scheme), a Literal
    Blob (&gt;80 characters) and an Integer Literal.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_create_entity2.png" />
        </imageobject>
      </inlinemediaobject></para>
  </section>

  <section id="t2previewoutputs">
    <title>Workflow outputs</title>

    <para>As the workflow runs results are displayed in the Results panel.</para>
     <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_workflow_complete.png" />
        </imageobject>
      </inlinemediaobject></para>
         
    <para>To
    display the result using a renderer, right click on the mime type of the output in the
    Results list and select the required renderer. The result will be shown in
    the Rendered Results section.</para>
     <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_render_result.png" />
        </imageobject>
      </inlinemediaobject></para>

  </section>

  <section>
    <title id="t2previewpreferences">Setting preferences</title>

    <para>Click on the Preferences button to select a location for the data
    manager to store the entities (this location is remembered between plugin
    sessions).</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata fileref="./images/t2_plugin_preference.png" />
        </imageobject>
      </inlinemediaobject></para>
  </section>
</section>