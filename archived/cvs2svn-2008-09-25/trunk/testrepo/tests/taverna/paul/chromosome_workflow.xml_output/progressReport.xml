<?xml version="1.0" encoding="UTF-8"?>
<workflowReport workflowID="0" workflowStatus="COMPLETE">
  <processorList>
    <processor name="Add_ncbi_to_string">
      <ProcessComplete TimeStamp="May 11, 2006 2:43:39 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:43:37 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:43:37 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:workflow xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scufl version="0.2" log="0">
            <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:P81DV9PQW02" author="" title="" />
            <s:processor name="add_ncbi_to_string">
              <s:beanshell>
                <s:scriptvalue>String[] split = input.split("\n");
Vector nonEmpty = new Vector();
for (int i = 0; i &lt; split.length; i++) 
{		
	String trimmed = split[i].trim();
	nonEmpty.add(trimmed);	
}
String output = "";
for (int i = 0; i &lt; nonEmpty.size(); i++)
{
	output = output + "ncbi-geneid:" + (String) (nonEmpty.elementAt(i) + "\n");
}</s:scriptvalue>
                <s:beanshellinputlist>
                  <s:beanshellinput s:syntactictype="'text/plain'">input</s:beanshellinput>
                </s:beanshellinputlist>
                <s:beanshelloutputlist>
                  <s:beanshelloutput s:syntactictype="'text/plain'">output</s:beanshelloutput>
                </s:beanshelloutputlist>
              </s:beanshell>
            </s:processor>
            <s:link source="Gi_numbers" sink="add_ncbi_to_string:input" />
            <s:link source="add_ncbi_to_string:output" sink="Kegg_strings" />
            <s:source name="Gi_numbers" />
            <s:sink name="Kegg_strings" />
          </s:scufl>
        </s:workflow>
      </ProcessScheduled>
    </processor>
    <processor name="Ensembl_gene_info">
      <ProcessComplete TimeStamp="May 11, 2006 2:31:44 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:30:28 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:30:28 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:workflow xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scufl version="0.2" log="0">
            <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:P81DV9PQW02" author="" title="" />
            <s:processor name="getGeneInfo">
              <s:description>get gene information</s:description>
              <s:arbitrarywsdl>
                <s:wsdl>http://xml.nig.ac.jp/wsdl/Ensembl.wsdl</s:wsdl>
                <s:operation>getGeneInfo</s:operation>
              </s:arbitrarywsdl>
            </s:processor>
            <s:link source="gene_in_region" sink="getGeneInfo:geneId" />
            <s:link source="getGeneInfo:Result" sink="gene_info" />
            <s:source name="gene_in_region" />
            <s:sink name="gene_info" />
          </s:scufl>
        </s:workflow>
      </ProcessScheduled>
    </processor>
    <processor name="Swissprot_to_Gi">
      <ProcessComplete TimeStamp="May 11, 2006 2:43:37 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:32:48 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:32:48 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:workflow xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scufl version="0.2" log="0">
            <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:P81DV9PQW02" author="" title="" />
            <s:processor name="database" boring="true">
              <s:stringconstant>gene</s:stringconstant>
            </s:processor>
            <s:processor name="merge_gis">
              <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
            </s:processor>
            <s:processor name="split_by_regex">
              <s:local>org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
            </s:processor>
            <s:processor name="parametersXML">
              <s:local>
                org.embl.ebi.escience.scuflworkers.java.XMLInputSplitter
                <s:extensions>
                  <s:complextype optional="false" unbounded="false" typename="eSearchRequest" name="parameters">
                    <s:elements>
                      <s:basetype optional="true" unbounded="false" typename="string" name="db" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="term" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="WebEnv" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="QueryKey" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="usehistory" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="tool" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="email" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="field" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="reldate" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="mindate" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="maxdate" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="datetype" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="RetStart" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="RetMax" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="rettype" />
                      <s:basetype optional="true" unbounded="false" typename="string" name="sort" />
                    </s:elements>
                  </s:complextype>
                </s:extensions>
              </s:local>
            </s:processor>
            <s:processor name="regex" boring="true">
              <s:stringconstant>\n</s:stringconstant>
            </s:processor>
            <s:processor name="remove_Nulls">
              <s:beanshell>
                <s:scriptvalue>String[] split = input.split("\n");
Vector nonEmpty = new Vector();
for (int i = 0; i &lt; split.length; i++){
   if (!(split[i].equals("")))
   {
       nonEmpty.add(split[i].trim());
   }
}
String[] non_empty = new String[nonEmpty.size()];
for (int i = 0; i &lt; non_empty.length; i ++)
{
   non_empty[i] = nonEmpty.elementAt(i);
}
String output = "";
for (int i = 0; i &lt; non_empty.length; i++)
{
	output = output + (String) (non_empty[i] + "\n");
}</s:scriptvalue>
                <s:beanshellinputlist>
                  <s:beanshellinput s:syntactictype="'text/plain'">input</s:beanshellinput>
                </s:beanshellinputlist>
                <s:beanshelloutputlist>
                  <s:beanshelloutput s:syntactictype="'text/plain'">output</s:beanshelloutput>
                </s:beanshelloutputlist>
              </s:beanshell>
            </s:processor>
            <s:processor name="run_eSearch">
              <s:arbitrarywsdl>
                <s:wsdl>http://eutils.ncbi.nlm.nih.gov/entrez/eutils/soap/eutils.wsdl</s:wsdl>
                <s:operation>run_eSearch</s:operation>
              </s:arbitrarywsdl>
            </s:processor>
            <s:processor name="parse_ncbi_protein_xml">
              <s:description>Extracts a GenBank id from an eSearch XML output file</s:description>
              <s:soaplabwsdl>http://phoebus.cs.man.ac.uk:1977/axis/services/text_mining.parse_ncbi_protein_xml</s:soaplabwsdl>
            </s:processor>
            <s:link source="database:value" sink="parametersXML:db" />
            <s:link source="input" sink="split_by_regex:string" />
            <s:link source="merge_gis:concatenated" sink="remove_Nulls:input" />
            <s:link source="parametersXML:output" sink="run_eSearch:parameters" />
            <s:link source="parse_ncbi_protein_xml:output" sink="merge_gis:stringlist" />
            <s:link source="regex:value" sink="split_by_regex:regex" />
            <s:link source="remove_Nulls:output" sink="removed_nulls" />
            <s:link source="run_eSearch:parameters" sink="parse_ncbi_protein_xml:new_direct_data" />
            <s:link source="split_by_regex:split" sink="parametersXML:term" />
            <s:source name="input" />
            <s:sink name="removed_nulls" />
          </s:scufl>
        </s:workflow>
      </ProcessScheduled>
    </processor>
    <processor name="end">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:23 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:stringconstant xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">32500000</s:stringconstant>
      </ProcessScheduled>
    </processor>
    <processor name="species">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:23 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:stringconstant xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">mus_musculus</s:stringconstant>
      </ProcessScheduled>
    </processor>
    <processor name="merge_gene_pathways">
      <ProcessComplete TimeStamp="May 11, 2006 2:53:42 PM" />
      <Invoking TimeStamp="May 11, 2006 2:53:42 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:local xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
      </ProcessScheduled>
    </processor>
    <processor name="Remove_swiss_nulls">
      <ProcessComplete TimeStamp="May 11, 2006 2:32:48 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:32:46 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:32:46 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:workflow xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scufl version="0.2" log="0">
            <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:P81DV9PQW02" author="" title="" />
            <s:processor name="remove_Nulls">
              <s:beanshell>
                <s:scriptvalue>String[] split = input.split("\n");
Vector nonEmpty = new Vector();
for (int i = 0; i &lt; split.length; i++){
   if (!(split[i].equals("")))
   {
       nonEmpty.add(split[i].trim());
   }
}
String[] non_empty = new String[nonEmpty.size()];
for (int i = 0; i &lt; non_empty.length; i ++)
{
   non_empty[i] = nonEmpty.elementAt(i);
}
String output = "";
for (int i = 0; i &lt; non_empty.length; i++)
{
	output = output + (String) (non_empty[i] + "\n");
}</s:scriptvalue>
                <s:beanshellinputlist>
                  <s:beanshellinput s:syntactictype="'text/plain'">input</s:beanshellinput>
                </s:beanshellinputlist>
                <s:beanshelloutputlist>
                  <s:beanshelloutput s:syntactictype="'text/plain'">output</s:beanshelloutput>
                </s:beanshelloutputlist>
              </s:beanshell>
            </s:processor>
            <s:link source="input_string" sink="remove_Nulls:input" />
            <s:link source="remove_Nulls:output" sink="removed_nulls" />
            <s:source name="input_string" />
            <s:sink name="removed_nulls" />
          </s:scufl>
        </s:workflow>
      </ProcessScheduled>
    </processor>
    <processor name="chromosome">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:23 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:stringconstant xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">17</s:stringconstant>
      </ProcessScheduled>
    </processor>
    <processor name="Kegg_gene_ids_all_species">
      <ProcessComplete TimeStamp="May 11, 2006 2:51:21 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:43:39 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:43:39 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:arbitrarywsdl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:wsdl>http://soap.genome.jp/KEGG.wsdl</s:wsdl>
          <s:operation>bconv</s:operation>
        </s:arbitrarywsdl>
      </ProcessScheduled>
    </processor>
    <processor name="getcurrentdatabase">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:25 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:soaplabwsdl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">http://phoebus.cs.man.ac.uk:1977/axis/services/qtl_analysis.getcurrentdatabase</s:soaplabwsdl>
      </ProcessScheduled>
    </processor>
    <processor name="Concatenate_two_strings">
      <ProcessComplete TimeStamp="May 11, 2006 2:53:42 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:53:42 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:53:42 PM">
        <s:iterationstrategy xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <i:dot xmlns:i="http://org.embl.ebi.escience/xscufliteration/0.1beta10">
            <i:iterator name="string2" />
            <i:iterator name="string1" />
          </i:dot>
        </s:iterationstrategy>
      </ConstructingIterator>
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:local xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">org.embl.ebi.escience.scuflworkers.java.StringConcat</s:local>
      </ProcessScheduled>
    </processor>
    <processor name="split_by_regex_2">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:28 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:28 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:local xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
      </ProcessScheduled>
    </processor>
    <processor name="Parse_swiss_ids">
      <ProcessComplete TimeStamp="May 11, 2006 2:32:46 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:31:44 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:31:44 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:workflow xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scufl version="0.2" log="0">
            <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:P81DV9PQW02" author="" title="" />
            <s:processor name="options" boring="true">
              <s:stringconstant>swiss</s:stringconstant>
            </s:processor>
            <s:processor name="parse_swiss">
              <s:beanshell>
                <s:scriptvalue>String[] split = input.split("\n");
Vector nonEmpty = new Vector();
for (int i = 0; i &lt; split.length; i++) 
{		
	String trimmed = split[i].trim();
	String[] trimmedSplit = trimmed.split(":");
	if (trimmedSplit.length == 2)
	{
	    nonEmpty.add(trimmedSplit[1].trim());	
	}
}
String output = "";
for (int i = 0; i &lt; nonEmpty.size(); i++)
{
	output = output + (String) (nonEmpty.elementAt(i) + "\n");
}</s:scriptvalue>
                <s:beanshellinputlist>
                  <s:beanshellinput s:syntactictype="'text/plain'">input</s:beanshellinput>
                </s:beanshellinputlist>
                <s:beanshelloutputlist>
                  <s:beanshelloutput s:syntactictype="'text/plain'">output</s:beanshelloutput>
                </s:beanshelloutputlist>
              </s:beanshell>
            </s:processor>
            <s:processor name="parse_ddbj_gene_info">
              <s:description>extract information from geneGeneInfo processor at http://xml.nig.ac.jp/wsdl/Ensembl.wsdl</s:description>
              <s:soaplabwsdl>http://phoebus.cs.man.ac.uk:1977/axis/services/seq_analysis.parse_ddbj_gene_info</s:soaplabwsdl>
            </s:processor>
            <s:link source="gene_info" sink="parse_ddbj_gene_info:file_direct_data" />
            <s:link source="options:value" sink="parse_ddbj_gene_info:options" />
            <s:link source="parse_ddbj_gene_info:output" sink="parse_swiss:input" />
            <s:link source="parse_swiss:output" sink="swiss_ids" />
            <s:source name="gene_info" />
            <s:sink name="swiss_ids" />
          </s:scufl>
        </s:workflow>
      </ProcessScheduled>
    </processor>
    <processor name="merge_pathways">
      <ProcessComplete TimeStamp="May 11, 2006 2:53:42 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:53:42 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:53:42 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:local xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
      </ProcessScheduled>
    </processor>
    <processor name="mergePathways_2">
      <ProcessComplete TimeStamp="May 11, 2006 2:53:42 PM" />
      <Invoking TimeStamp="May 11, 2006 2:53:42 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:local xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
      </ProcessScheduled>
    </processor>
    <processor name="regex1">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:23 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:stringconstant xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">\n</s:stringconstant>
      </ProcessScheduled>
    </processor>
    <processor name="split_gene_ids">
      <ProcessComplete TimeStamp="May 11, 2006 2:51:22 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:51:21 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:51:21 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:beanshell xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:scriptvalue>String[] split = input.split("\n");
Vector nonEmpty = new Vector();
for (int i = 0; i &lt; split.length; i++) 
{		
	String trimmed = split[i].trim();
	String[] trimmedSplit = trimmed.split("\t");
	if (trimmedSplit.length == 2)
	{
	    nonEmpty.add(trimmedSplit[1].trim());	
	}
}
String output = "";
for (int i = 0; i &lt; nonEmpty.size(); i++)
{
	output = output + (String) (nonEmpty.elementAt(i) + "\n");
}</s:scriptvalue>
          <s:beanshellinputlist>
            <s:beanshellinput s:syntactictype="'text/plain'">input</s:beanshellinput>
          </s:beanshellinputlist>
          <s:beanshelloutputlist>
            <s:beanshelloutput s:syntactictype="'text/plain'">output</s:beanshelloutput>
          </s:beanshelloutputlist>
        </s:beanshell>
      </ProcessScheduled>
    </processor>
    <processor name="lister">
      <ProcessComplete TimeStamp="May 11, 2006 2:51:23 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:51:22 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:51:22 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:arbitrarywsdl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/EnsemblListner.jws?wsdl</s:wsdl>
          <s:operation>lister</s:operation>
        </s:arbitrarywsdl>
      </ProcessScheduled>
    </processor>
    <processor name="start">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:23 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:stringconstant xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">29000000</s:stringconstant>
      </ProcessScheduled>
    </processor>
    <processor name="get_pathways_by_genes">
      <ProcessComplete TimeStamp="May 11, 2006 2:53:42 PM" />
      <InvokingWithIteration IterationNumber="108" IterationTotal="108" ActiveWorkers="1" TimeStamp="May 11, 2006 2:51:23 PM" />
      <ConstructingIterator TimeStamp="May 11, 2006 2:51:23 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:arbitrarywsdl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">
          <s:wsdl>http://soap.genome.jp/KEGG.wsdl</s:wsdl>
          <s:operation>get_pathways_by_genes</s:operation>
        </s:arbitrarywsdl>
      </ProcessScheduled>
    </processor>
    <processor name="getgenesbyspecies">
      <ProcessComplete TimeStamp="May 11, 2006 2:30:28 PM" />
      <Invoking TimeStamp="May 11, 2006 2:30:25 PM" />
      <ProcessScheduled TimeStamp="May 11, 2006 2:30:23 PM">
        <s:soaplabwsdl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha">http://phoebus.cs.man.ac.uk:1977/axis/services/qtl_analysis.getgenesbyspecies</s:soaplabwsdl>
      </ProcessScheduled>
    </processor>
  </processorList>
</workflowReport>

