<?xml version="1.0" encoding="UTF-8"?>
<s:scufl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha" version="0.2" log="0">
  <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:LDP0E14FGX0" author="" title="" />
  <s:processor name="getBoneStructures">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/pts2boneScript.jws?wsdl</s:wsdl>
      <s:operation>getBoneStructures</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="getDescription">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/points2boneStructure.jws?wsdl</s:wsdl>
      <s:operation>getDescription</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="seedTransform">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/transforms.jws?wsdl</s:wsdl>
      <s:operation>getCartilageAnalysis</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="transformDescription">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/seedTransform.jws?wsdl</s:wsdl>
      <s:operation>getDescription</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="cart2boneDescription">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/cart2boneStructure.jws?wsdl</s:wsdl>
      <s:operation>getDescription</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="getThickness">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/registerSurfaces.jws?wsdl</s:wsdl>
      <s:operation>getThickness</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="getCartilage2Structure">
    <s:arbitrarywsdl>
      <s:wsdl>http://phoebus.cs.man.ac.uk:8081/axis/cart2struct.jws?wsdl</s:wsdl>
      <s:operation>getCartilage2Structure</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="initial_alignment">
    <s:local>org.embl.ebi.escience.scuflworkers.java.WebImageFetcher</s:local>
  </s:processor>
  <s:processor name="final_alignment">
    <s:local>org.embl.ebi.escience.scuflworkers.java.WebImageFetcher</s:local>
  </s:processor>
  <s:processor name="initial" boring="true">
    <s:stringconstant>http://www.mygrid.org.uk/wsdl/initial_alignment.jpg</s:stringconstant>
  </s:processor>
  <s:processor name="final" boring="true">
    <s:stringconstant>http://www.mygrid.org.uk/wsdl/final_alignment.jpg</s:stringconstant>
  </s:processor>
  <s:processor name="bone_surface_file" boring="true">
    <s:stringconstant>z013_1_7.pts</s:stringconstant>
  </s:processor>
  <s:processor name="cartSurface" boring="true">
    <s:stringconstant>z013_1_7.pts</s:stringconstant>
  </s:processor>
  <s:link source="bone_surface_file:value" sink="getDescription:pointsFile" />
  <s:link source="cartSurface:value" sink="cart2boneDescription:pointsFile" />
  <s:link source="final:value" sink="final_alignment:base" />
  <s:link source="final:value" sink="final_alignment:url" />
  <s:link source="getBoneStructures:getBoneStructuresReturn" sink="transformDescription:pointsFile" />
  <s:link source="initial:value" sink="initial_alignment:base" />
  <s:link source="initial:value" sink="initial_alignment:url" />
  <s:link source="final_alignment:image" sink="final_alignment" />
  <s:link source="getBoneStructures:getBoneStructuresReturn" sink="boneStructures" />
  <s:link source="getCartilage2Structure:getCartilage2StructureReturn" sink="cart2struc" />
  <s:link source="getDescription:getDescriptionReturn" sink="pts2struc" />
  <s:link source="getThickness:getThicknessReturn" sink="thicknessMap" />
  <s:link source="initial_alignment:image" sink="initial_alignment" />
  <s:link source="seedTransform:getCartilageAnalysisReturn" sink="transformResults" />
  <s:link source="transformDescription:getDescriptionReturn" sink="seedTransform" />
  <s:sink name="pts2struc" />
  <s:sink name="boneStructures" />
  <s:sink name="seedTransform" />
  <s:sink name="cart2struc" />
  <s:sink name="transformResults" />
  <s:sink name="thicknessMap" />
  <s:sink name="initial_alignment" />
  <s:sink name="final_alignment" />
  <s:coordination name="getBoneStructures_BLOCKON_getDescription">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>getDescription</s:target>
    </s:condition>
    <s:action>
      <s:target>getBoneStructures</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="getCartilage2Structure_BLOCKON_cart2boneDescription">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>cart2boneDescription</s:target>
    </s:condition>
    <s:action>
      <s:target>getCartilage2Structure</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="transformDescription_BLOCKON_getCartilage2Structure">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>getCartilage2Structure</s:target>
    </s:condition>
    <s:action>
      <s:target>transformDescription</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="seedTransform_BLOCKON_transformDescription">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>transformDescription</s:target>
    </s:condition>
    <s:action>
      <s:target>seedTransform</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="getThickness_BLOCKON_seedTransform">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>seedTransform</s:target>
    </s:condition>
    <s:action>
      <s:target>getThickness</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="final_alignment_BLOCKON_getThickness">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>getThickness</s:target>
    </s:condition>
    <s:action>
      <s:target>final_alignment</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="initial_alignment_BLOCKON_getThickness">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>getThickness</s:target>
    </s:condition>
    <s:action>
      <s:target>initial_alignment</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
</s:scufl>


