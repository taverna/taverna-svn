<?xml version="1.0" encoding="UTF-8"?>
<s:scufl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha" version="0.2" log="0">
  <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:BYHF8X3XKX22" author="Ernst" title="CompareAGILocusCodesFoundBySimilarityToAGILocusCodesFoundByKeyword">This workflow retrieves 
- AGI Codes from MAtDB which are related to a given Keyword
- AGI Codes that were found by a Blast against Arabidopsis proteins using a Protein Sequence from MAtDB that was retrieved by the given AGI_LocusCode

the resulting AGI Codes are then compared (union, difference, intersection) and given back as outputs.</s:workflowdescription>
  <s:processor name="Namespace">
    <s:description>A BioMobyNamespace here e.g. Global_Keyword</s:description>
    <s:stringconstant>Global_Keyword</s:stringconstant>
  </s:processor>
  <s:processor name="ID">
    <s:description>An ID valid in the given BioMoby namespace here e.g. 'drought'</s:description>
    <s:stringconstant>drought</s:stringconstant>
  </s:processor>
  <s:processor name="Namespace1">
    <s:description>A BioMoby namespace here e.g. 'AGI_LocusCode'</s:description>
    <s:stringconstant>AGI_LocusCode</s:stringconstant>
  </s:processor>
  <s:processor name="ID1">
    <s:description>An ID valid in the given BioMoby namespace here e.g. 'At5g60360'</s:description>
    <s:stringconstant>At5g60360</s:stringconstant>
  </s:processor>
  <s:processor name="Create_moby_data">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.CreateMobyData</s:local>
  </s:processor>
  <s:processor name="Create_moby_data1">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.CreateMobyData</s:local>
  </s:processor>
  <s:processor name="Parse_moby_data1">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="String_list_intersection">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringSetIntersection</s:local>
  </s:processor>
  <s:processor name="String_list_union">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringSetUnion</s:local>
  </s:processor>
  <s:processor name="Parse_moby_data">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="String_list_difference">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringSetDifference</s:local>
  </s:processor>
  <s:processor name="getAGILocusCodes">
    <s:description>returns a collection of AGI_LocusCodes which are somehow related to a given Keyword in their MAtDB annotation (e.g. "wuschel")</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://mips.gsf.de/cgi-bin/proj/planet/moby/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>getAGILocusCodes</s:serviceName>
      <s:authorityName>mips.gsf.de</s:authorityName>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="getMIPSArabidopsisProteinSequence">
    <s:description>retrieves a collection of MIPS Arabidopsis protein sequences related to a given Keyword or AGI-Code from MAtDB (e.g."wuschel", "At2g42410").</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://mips.gsf.de/cgi-bin/proj/planet/moby/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>getMIPSArabidopsisProteinSequence</s:serviceName>
      <s:authorityName>mips.gsf.de</s:authorityName>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="extractAGILocusCodes">
    <s:description>parses AGI-LocusCodes out of Blast Results or any text-xml or text-formatted  (output sorted by alphabet)</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://mips.gsf.de/cgi-bin/proj/planet/moby/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>extractAGILocusCodes</s:serviceName>
      <s:authorityName>mips.gsf.de</s:authorityName>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="MIPSBlastBetterE13">
    <s:description>executes blast against MAtDB Arabidopsis protein coding genes with a cutoff E-value of E=1e-13</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://mips.gsf.de/cgi-bin/proj/planet/moby/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>MIPSBlastBetterE13</s:serviceName>
      <s:authorityName>mips.gsf.de</s:authorityName>
    </s:biomobywsdl>
  </s:processor>
  <s:link source="Namespace:value" sink="Create_moby_data:namespace" />
  <s:link source="ID:value" sink="Create_moby_data:id" />
  <s:link source="Namespace1:value" sink="Create_moby_data1:namespace" />
  <s:link source="ID1:value" sink="Create_moby_data1:id" />
  <s:link source="Create_moby_data:mobydata" sink="getAGILocusCodes:input" />
  <s:link source="getAGILocusCodes:output" sink="Parse_moby_data:mobydata" />
  <s:link source="Create_moby_data1:mobydata" sink="getMIPSArabidopsisProteinSequence:input" />
  <s:link source="getMIPSArabidopsisProteinSequence:output" sink="MIPSBlastBetterE13:input" />
  <s:link source="MIPSBlastBetterE13:output" sink="extractAGILocusCodes:input" />
  <s:link source="extractAGILocusCodes:output" sink="Parse_moby_data1:mobydata" />
  <s:link source="Parse_moby_data:id" sink="String_list_intersection:list1" />
  <s:link source="Parse_moby_data1:id" sink="String_list_intersection:list2" />
  <s:link source="Parse_moby_data:id" sink="String_list_difference:list1" />
  <s:link source="Parse_moby_data1:id" sink="String_list_difference:list2" />
  <s:link source="Parse_moby_data:id" sink="String_list_union:list1" />
  <s:link source="Parse_moby_data1:id" sink="String_list_union:list2" />
  <s:link source="String_list_intersection:intersection" sink="Intersection Keyword and Similarity" />
  <s:link source="String_list_union:union" sink="Union Keyword or Similarity" />
  <s:link source="Parse_moby_data:id" sink="AGICodes by Keyword" />
  <s:link source="Parse_moby_data1:id" sink="AGICodes by Similarity" />
  <s:link source="String_list_difference:difference" sink="Diff Keyword NOT Similarity" />
  <s:sink name="Intersection Keyword and Similarity" />
  <s:sink name="Union Keyword or Similarity" />
  <s:sink name="AGICodes by Keyword" />
  <s:sink name="AGICodes by Similarity" />
  <s:sink name="Diff Keyword NOT Similarity" />
</s:scufl>


