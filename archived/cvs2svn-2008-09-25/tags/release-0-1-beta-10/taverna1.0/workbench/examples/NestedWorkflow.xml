<?xml version="1.0" encoding="UTF-8"?>
<s:scufl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha" version="0.2" log="0">
  <s:processor name="SplitShapes">
    <s:local>org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
  </s:processor>
  <s:processor name="SplitShapes2">
    <s:local>org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
  </s:processor>
  <s:processor name="Shapes">
    <s:stringconstant>circle ;oval ,triangle ;square ;hexagon </s:stringconstant>
  </s:processor>
  <s:processor name="SplitColours2">
    <s:local>org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
  </s:processor>
  <s:processor name="SplitColours1">
    <s:local>org.embl.ebi.escience.scuflworkers.java.SplitByRegex</s:local>
  </s:processor>
  <s:processor name="Semicolon">
    <s:stringconstant>;</s:stringconstant>
  </s:processor>
  <s:processor name="Colours">
    <s:stringconstant>red ;crimson ;scarlet ,green ;aqua </s:stringconstant>
  </s:processor>
  <s:processor name="ColourShapes">
    <s:workflow>
      <s:scufl version="0.2" log="0">
        <s:processor name="Concatenate_two_strings">
          <s:local>org.embl.ebi.escience.scuflworkers.java.StringConcat</s:local>
        </s:processor>
        <s:processor name="EchoColourList">
          <s:local>org.embl.ebi.escience.scuflworkers.java.EchoList</s:local>
        </s:processor>
        <s:processor name="EchoShapeList">
          <s:local>org.embl.ebi.escience.scuflworkers.java.EchoList</s:local>
        </s:processor>
        <s:processor name="FlattenOutput">
          <s:local>org.embl.ebi.escience.scuflworkers.java.FlattenList</s:local>
        </s:processor>
        <s:link source="EchoColourList:outputlist" sink="Concatenate_two_strings:string1" />
        <s:link source="EchoShapeList:outputlist" sink="Concatenate_two_strings:string2" />
        <s:link source="ColourList" sink="EchoColourList:inputlist" />
        <s:link source="ShapeList" sink="EchoShapeList:inputlist" />
        <s:link source="Concatenate_two_strings:output" sink="FlattenOutput:inputlist" />
        <s:link source="FlattenOutput:outputlist" sink="ColouredShapes" />
        <s:source>ColourList</s:source>
        <s:source>ShapeList</s:source>
        <s:sink>
          ColouredShapes
          <s:metadata>
            <s:mimeTypes>
              <s:mimeType>text/plain</s:mimeType>
            </s:mimeTypes>
          </s:metadata>
        </s:sink>
      </s:scufl>
    </s:workflow>
    <s:iterationstrategy>
      <i:dot xmlns:i="http://org.embl.ebi.escience/xscufliteration/0.1beta10">
        <i:iterator name="ShapeList" />
        <i:iterator name="ColourList" />
      </i:dot>
    </s:iterationstrategy>
  </s:processor>
  <s:link source="Colours:value" sink="SplitColours1:string" />
  <s:link source="Semicolon:value" sink="SplitColours2:regex" />
  <s:link source="SplitColours1:split" sink="SplitColours2:string" />
  <s:link source="Shapes:value" sink="SplitShapes:string" />
  <s:link source="SplitShapes:split" sink="SplitShapes2:string" />
  <s:link source="Semicolon:value" sink="SplitShapes2:regex" />
  <s:link source="SplitShapes2:split" sink="ColourShapes:ShapeList" />
  <s:link source="SplitColours2:split" sink="ColourShapes:ColourList" />
  <s:link source="ColourShapes:ColouredShapes" sink="output" />
  <s:link source="SplitShapes2:split" sink="shapes" />
  <s:link source="SplitColours2:split" sink="colours" />
  <s:sink>output</s:sink>
  <s:sink>
    shapes
    <s:metadata>
      <s:mimeTypes>
        <s:mimeType>text/plain</s:mimeType>
      </s:mimeTypes>
    </s:metadata>
  </s:sink>
  <s:sink>
    colours
    <s:metadata>
      <s:mimeTypes>
        <s:mimeType>text/plain</s:mimeType>
      </s:mimeTypes>
    </s:metadata>
  </s:sink>
</s:scufl>


