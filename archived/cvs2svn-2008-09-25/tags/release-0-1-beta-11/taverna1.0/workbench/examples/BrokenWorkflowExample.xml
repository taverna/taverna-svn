<?xml version="1.0" encoding="UTF-8"?>
<s:scufl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha" version="0.2" log="0">
  <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:IHOE4RE2072" author="Tom Oinn" title="A deliberately broken workflow to show offline mode">This workflow contains two errors - one of the processors references a non existant WSDL location and another references an operation name that doesn't exist in the specified WSDL. These errors prevent previous versions (prior to beta11) of Taverna from loading this workflow. In beta11 and higher versions this workflow may be loaded by selecting offline mode, trying to go online before replacing the defective operations will result in a message describing the problems.</s:workflowdescription>
  <s:processor name="createSession">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoViz.jws?wsdl</s:wsdl>
      <s:operation>createSession</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="destroySession">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoViz.jws?wsdl</s:wsdl>
      <s:operation>destroySession</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="addTerm">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoViz.jws?wsdl</s:wsdl>
      <s:operation>addTerm</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="getChildren">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoVizBroken.jws?wsdl</s:wsdl>
      <s:operation>getChildren</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="addTerm1">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoViz.jws?wsdl</s:wsdl>
      <s:operation>addTerm</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:processor name="getDot">
    <s:arbitrarywsdl>
      <s:wsdl>http://www.ebi.ac.uk/collab/mygrid/service1/goviz/GoViz.jws?wsdl</s:wsdl>
      <s:operation>getDotBroken</s:operation>
    </s:arbitrarywsdl>
  </s:processor>
  <s:link source="createSession:createSessionReturn" sink="destroySession:sessionID" />
  <s:link source="createSession:createSessionReturn" sink="addTerm:sessionID" />
  <s:link source="createSession:createSessionReturn" sink="addTerm1:sessionID" />
  <s:link source="termID" sink="addTerm:geneOntologyID" />
  <s:link source="termID" sink="getChildren:geneOntologyID" />
  <s:link source="getChildren:getChildrenReturn" sink="addTerm1:geneOntologyID" />
  <s:link source="createSession:createSessionReturn" sink="getDot:sessionID" />
  <s:link source="getDot:getDotReturn" sink="dot" />
  <s:source name="termID" />
  <s:sink name="dot" />
  <s:coordination name="addTerm1_BLOCKON_addTerm">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>addTerm</s:target>
    </s:condition>
    <s:action>
      <s:target>addTerm1</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="getDot_BLOCKON_addTerm1">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>addTerm1</s:target>
    </s:condition>
    <s:action>
      <s:target>getDot</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
  <s:coordination name="destroySession_BLOCKON_getDot">
    <s:condition>
      <s:state>Completed</s:state>
      <s:target>getDot</s:target>
    </s:condition>
    <s:action>
      <s:target>destroySession</s:target>
      <s:statechange>
        <s:from>Scheduled</s:from>
        <s:to>Running</s:to>
      </s:statechange>
    </s:action>
  </s:coordination>
</s:scufl>


