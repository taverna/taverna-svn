#
#  join used and generated by to reconstruct "xform" relations
#

PREFIX    a:  <http://www.ipaw.info/2007/opm#>
PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
PREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

SELECT ?process ?usedArtifact ?usedRole ?generatedArtifact ?generatedRole
		
WHERE
{ 
      ?usedInstance a:usedArtifact ?usedArtifactResource .
      ?usedInstance a:usedByProcess ?processResource .
      ?usedInstance a:usedRole      ?usedRoleResource .
      ?generatedBy a:generatedArtifact ?generatedArtifactResource .
      ?generatedBy a:generatedByProcess ?processResource .
      ?generatedBy a:generatedRole      ?generatedRoleResource .      
      ?processResource rdfs:label ?process .
      ?usedArtifactResource rdfs:label ?usedArtifact .
      ?generatedArtifactResource rdfs:label ?generatedArtifact .    
      ?usedRoleResource rdfs:label ?usedRole .
      ?generatedRoleResource rdfs:label ?generatedRole
 }  
