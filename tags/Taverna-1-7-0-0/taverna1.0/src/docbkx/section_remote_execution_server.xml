<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="remote_execution_server">
  <title>Remote Execution Server</title>

  <para>The Remote Execution Server hosts the execution of workflows remote
  from the Taverna application. An example Remote Execution Server,
  remotetaverna.war, can be downloaded from the Taverna Utilities section of
  the Taverna download site.</para>

  <section>
    <title>Configuring the database</title>

    <para>Before deploying the war file, the database first needs configuring.
    This is defined within the war file in the file
    <literal>WEB-INF/classes/META-INF/persistence.xml</literal>. The war file
    must first be unzipped to modify this file. Many modern GUI zip tools
    allow you to edit zipped files without physically unzipping the
    file.</para>

    <para>By default this is set to use an embedded version of the Apache
    Derby database. All that needs configuring is the path to which the
    database will be installed when the war file is deployed. This is
    configured in the section:</para>

    <screen>&lt;property name="hibernate.connection.driver_class"
 value="org.apache.derby.jdbc.EmbeddedDriver" /&gt;
 &lt;property name="hibernate.connection.url"
 value="jdbc:derby:/tmp/remoteTavernaDB;create=true"
/&gt;</screen>

    <para>The path <literal>/tmp/remoteTavernaDB</literal> should be changed
    to somewhere more suitable. The directory will be created and is where all
    the data is stored.</para>
  </section>

  <section id="remote_execution_server_installation">
    <title>Installation</title>

    <para>The remotetaverna.war can now be deployed within a web application
    containter such as Apache Tomcat. Once the application is deployed and
    started, it is initially necessary to configure the Remote Execution
    Server.</para>

    <para>First you must add an admin user and provide a password. At least
    one admin user is required to use the application, and others can be added
    later if necessary. You should also check that the Base URL is a valid URL
    and is accessible by the intended Taverna users. Finally you will need to
    define the location of the Taverna Home. This needs to be a writable
    directory and is where libraries required for Taverna to run will be
    downloaded. If the directory does not exist it will be created. The
    installation is now complete.</para>
  </section>

  <section id="remote_execution_server_administration">
    <title>Administration</title>

    <para>Once the Remote Taverna Execution application is up and running some
    further administration is recommended. First users should be added. Users
    can be added by following the Add User link. This is only accessible to an
    admin user. These are the users that will be submitting workflows through
    the Remote Execution plugin from Taverna.</para>

    <para>Through the System Configuration link it is recommended to set the
    upper memory usage value. This is the amount of memory allocation for each
    workflow invocation. This should be set according to the available memory
    on the server. Caution It is possible to have more than one worker. A
    worker is associated with a separate process that is responsible for
    invoking a workflow. Each worker is allocated the memory specified by this
    setting. If there is more than one worker defined then it needs to be
    considered that the total memory usage may rise to the sum of the memory
    allocated to all workers.</para>

    <para>Registration should only be enabled if you know and trust the users
    that can access the application. You should read and understand the
    Security conciderations before enabling this.</para>
  </section>

  <section id="remote_execution_server_security_considerations">
    <title>Security Considerations</title>

    <para>This application is only intended to be used internally on a local
    network and shared between trusted local users. Its important to remember
    that Workflows submitted may contain local processors or Beanshell scripts
    that can access the local file system, access network facilities or start
    new processes. For this reason it is highly recommended that it is not
    deployed such that it is externally visible on the internet unless it is
    installed in a highly secure environment, such as within a chroot jail or
    a virtual machine. We suggest you seek expert advice before doing
    this.</para>
  </section>
</section>