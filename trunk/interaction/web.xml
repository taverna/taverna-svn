<!-- Webapp definition for the interaction service -->
<!-- Tom Oinn, tmo@ebi.ac.uk, 22nd August 2005     -->
<web-app>

  <!-- Handles interaction service request submission, mapped to /workflow/submit -->
  <servlet>
    <display-name>Interaction service submission servlet</display-name>
    <!-- Force init when the application server starts -->
    <load-on-startup>0</load-on-startup>
    <servlet-name>SubmitServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.SubmitServlet</servlet-class>
    <!-- Define where the server should place temporary data files -->
    <init-param>
      <param-name>temp_location</param-name>
      <param-value>C:\interaction</param-value>
    </init-param>
    <!-- Configure for your smtp relay and other mail related parameters -->
    <init-param>
      <param-name>smtp_host</param-name>
      <param-value>mailserv.ebi.ac.uk</param-value>
    </init-param>
    <!-- Default 'from' address for generated messages -->
    <init-param>
      <param-name>mail_from</param-name>
      <param-value>tmo@ebi.ac.uk</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>SubmitServlet</servlet-name>
    <url-pattern>/workflow/submit</url-pattern>
  </servlet-mapping>

  <!-- Provides status information, mapped to /workflow/status -->
  <servlet>
    <display-name>Interaction service status servlet</display-name>
    <load-on-startup>1</load-on-startup>
    <servlet-name>StatusServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.StatusServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>StatusServlet</servlet-name>
    <url-pattern>/workflow/status</url-pattern>
  </servlet-mapping>

  <!-- Provides result document from interaction server to workflow, mapped to /workflow/results -->
  <servlet>
    <display-name>Interaction service results servlet</display-name>
    <load-on-startup>1</load-on-startup>
    <servlet-name>ResultServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.ResultServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ResultServlet</servlet-name>
    <url-pattern>/workflow/results</url-pattern>
  </servlet-mapping>

  <!-- Dynamic generation of the patterns.xml -->
  <servlet>
    <display-name>Interaction service dynamic pattern metadata</display-name>
    <load-on-startup>1</load-on-startup>
    <servlet-name>PatternServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.PatternServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>PatternServlet</servlet-name>
    <url-pattern>/patterns.xml</url-pattern>
  </servlet-mapping>

  <!-- Interface for interaction client code to fetch input data, mapped to /client/download -->
  <servlet>
    <display-name>Interaction client data download servlet</display-name>
    <load-on-startup>2</load-on-startup>
    <servlet-name>ClientDownloadServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.ClientDownloadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ClientDownloadServlet</servlet-name>
    <url-pattern>/client/download</url-pattern>
  </servlet-mapping>

  <!-- Interface for interaction client code to upload result data, mapped to /client/upload -->
  <servlet>
    <display-name>Interaction client data upload servlet</display-name>
    <load-on-startup>2</load-on-startup>
    <servlet-name>ClientUploadServlet</servlet-name>
    <servlet-class>net.sf.taverna.interaction.server.http.ClientUploadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ClientUploadServlet</servlet-name>
    <url-pattern>/client/upload</url-pattern>
  </servlet-mapping>
  
</web-app>