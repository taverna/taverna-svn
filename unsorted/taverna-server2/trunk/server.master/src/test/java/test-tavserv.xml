<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<bean id="tserv" class="org.taverna.server.master.TavernaServerImpl">
		<property name="policy">
			<ref bean="policy" />
		</property>
		<property name="listenerFactory">
			<ref bean="listenerFactory" />
		</property>
		<property name="runFactory">
			<ref bean="runFactory" />
		</property>
		<property name="runStore">
			<ref bean="runCatalog" />
		</property>
	</bean>

	<bean id="policy" class="org.taverna.server.master.example.SimpleServerPolicy"
		lazy-init="false">
		<property name="maxRuns">
			<value type="int">1</value>
		</property>
		<property name="cleanerInterval">
			<value type="int">300</value>
		</property>
	</bean>

	<bean id="runFactory" class="org.taverna.server.master.example.ExampleRun$Builder">
		<constructor-arg type="int" value="10" />
	</bean>

	<bean id="runCatalog"
		class="org.taverna.server.master.example.SimpleNonpersistentRunStore">
		<property name="policy">
			<ref bean="policy" />
		</property>
	</bean>

	<bean id="listenerFactory" class="org.taverna.server.master.example.SimpleListenerFactory">
		<property name="builders">
			<map>
				<!--						<entry key="exampleListener">-->
				<!--
					<bean
					class="org.taverna.server.master.example.ExampleListener$Builder">
				-->
				<!--								<property name="sitePolicy">-->
				<!--									<value>Just an example!</value>-->
				<!--								</property>-->
				<!--							</bean>-->
				<!--						</entry>-->
			</map>
		</property>
	</bean>

</beans>
