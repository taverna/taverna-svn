<workflow xmlns="http://taverna.sf.net/2008/xml/t2flow"
	version="1">
	<dataflow id="9a42694d-d62d-4885-a313-ac4394ace326" role="top">
		<name>dataflow8</name>
		<inputPorts />
		<outputPorts>
			<port>
				<name>sd</name>
			</port>
		</outputPorts>
		<processors>
			<processor>
				<name>Get_Environment_Variables_as_XML
				</name>
				<inputPorts />
				<outputPorts>
					<port>
						<name>properties</name>
						<depth>0</depth>
						<granularDepth>0</granularDepth>
					</port>
				</outputPorts>
				<annotations />
				<activities>
					<activity>
						<raven>
							<group>net.sf.taverna.t2.activities
							</group>
							<artifact>localworker-activity</artifact>
							<version>0.4</version>
						</raven>
						<class>
							net.sf.taverna.t2.activities.localworker.LocalworkerActivity
						</class>
						<inputMap />
						<outputMap>
							<map from="properties" to="properties" />
						</outputMap>
						<configBean encoding="xstream">
							<net.sf.taverna.t2.activities.localworker.LocalworkerActivityConfigurationBean
								xmlns="">

								<script>import java.net.URLEncoder;



									Properties sysProps =
									System.getProperties();

									Set keys = sysProps.keySet();

									Iterator it
									= keys.iterator();

									String currKey = null;

									StringBuffer sb = new
									StringBuffer();

									sb.append("&lt;?xml version=\"1.0\"?&gt;\n");

sb.append("&lt;property-list&gt;\n");

while (it.hasNext()) {

	currKey = (String) it.next();

	sb.append("&lt;property ");

	sb.append(" name=\"" + URLEncoder.encode(currKey) + "\"");

	sb.append(" value=\"" + URLEncoder.encode(sysProps.getProperty(currKey)) + "\"/&gt;\n");

}

sb.append("&lt;/property-list&gt;");



properties = sb.toString();

</script>

  <dependencies />

  <classLoaderSharing>workflow</classLoaderSharing>

  <localDependencies />

  <artifactDependencies />

  <inputs />

  <outputs>

    <net.sf.taverna.t2.workflowmodel.processor.activity.config.ActivityOutputPortDefinitionBean>

      <granularDepth>0</granularDepth>

      <name>properties</name>

      <depth>0</depth>

      <mimeTypes>

        <string>'text/xml'</string>

      </mimeTypes>

    </net.sf.taverna.t2.workflowmodel.processor.activity.config.ActivityOutputPortDefinitionBean>

  </outputs>

</net.sf.taverna.t2.activities.localworker.LocalworkerActivityConfigurationBean></configBean><annotations /></activity></activities><dispatchStack><dispatchLayer><raven><group>net.sf.taverna.t2</group><artifact>workflowmodel-impl</artifact><version>0.4</version></raven><class>net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.Parallelize</class><configBean encoding="xstream"><net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.ParallelizeConfig xmlns="">

  <maxJobs>1</maxJobs>

</net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.ParallelizeConfig></configBean></dispatchLayer><dispatchLayer><raven><group>net.sf.taverna.t2</group><artifact>workflowmodel-impl</artifact><version>0.4</version></raven><class>net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.ErrorBounce</class><configBean encoding="xstream"><null xmlns="" /></configBean></dispatchLayer><dispatchLayer><raven><group>net.sf.taverna.t2</group><artifact>workflowmodel-impl</artifact><version>0.4</version></raven><class>net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.Failover</class><configBean encoding="xstream"><null xmlns="" /></configBean></dispatchLayer><dispatchLayer><raven><group>net.sf.taverna.t2</group><artifact>workflowmodel-impl</artifact><version>0.4</version></raven><class>net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.Retry</class><configBean encoding="xstream"><net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.RetryConfig xmlns="">

  <backoffFactor>1.0</backoffFactor>

  <initialDelay>1000</initialDelay>

  <maxDelay>5000</maxDelay>

  <maxRetries>0</maxRetries>

</net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.RetryConfig></configBean></dispatchLayer><dispatchLayer><raven><group>net.sf.taverna.t2</group><artifact>workflowmodel-impl</artifact><version>0.4</version></raven><class>net.sf.taverna.t2.workflowmodel.processor.dispatch.layers.Invoke</class><configBean encoding="xstream"><null xmlns="" /></configBean></dispatchLayer></dispatchStack><iterationStrategyStack><iteration><strategy /></iteration></iterationStrategyStack></processor></processors><conditions /><datalinks><datalink><sink type="dataflow"><port>sd</port></sink><source type="processor"><processor>Get_Environment_Variables_as_XML</processor><port>properties</port></source></datalink></datalinks><annotations /></dataflow></workflow>